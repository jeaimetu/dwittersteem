<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web Tester</title>

    <script src="https://cdn.jsdelivr.net/npm/eosjs@16.0.0/lib/eos.min.js"></script>
	<script src="./scatter.min.js"></script>
</head>
<body>

<button onclick="test()">Test</button>

<script>

    function test(){
        var network = {blockchain:'eos', protocol:'https', host:'mainnet.eoscalgary.io', port:443, chainId:'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906'};
	//var network = {blockchain:'eos', protocol:'http', host:'jungle.cryptolions.io', port:18888, chainId:'038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca'};
        
    scatter.connect('My App').then(connected => {
        if(!connected) return false;
        
    const requiredFields = { accounts:[network] };
    scatter.getIdentity(requiredFields).then(() => {
      const account = scatter.identity.accounts.find(x => x.blockchain === 'eos');
      const eosOptions = { expireInSeconds:60 };
      const eos = scatter.eos(network, Eos, eosOptions);
      
      const transactionOptions = { authorization:[`${account.name}@${account.authority}`], broadcast: true, sign: true };
      console.log("acc", account);
        
        
        async function transfer(from, to){
	    const myaccount = await eos.contract(from);
	    await myaccount.check(from, to, "link test");
        }
        transfer(account.name, "eoscafekorea");
    });
    });
    }
        
</script>
</body>
</html>
